x = "date",
y = 'GDP')
gdp_full %>%
summarize(
mean = mean(value, na.rm = TRUE),
var_value  = var(value, na.rm = TRUE),
sd_value   = sd(value, na.rm = TRUE),
n_obs      = n()
)
pot_gdp_full %>%
ggplot(aes(x = date, y = value)) +
geom_line() +
labs(title = "Potential Real GDP ",
x = "date",
y = 'GDPPOT')
pot_gdp_full %>%
summarize(
mean = mean(value, na.rm = TRUE),
var_value  = var(value, na.rm = TRUE),
sd_value   = sd(value, na.rm = TRUE),
n_obs      = n()
)
output_gap %>%
ggplot(aes(x = date, y = value)) +
geom_line() +
labs(title = "Output gap",
x = "date",
y = 'Output gap')
ensure_same_dates <- ffer_full %>%
full_join(gdp_full, by='date') %>%
full_join(pcepi_full, by='date') %>%
full_join(pot_gdp_full, by='date') %>%
full_join(output_gap, by='date')
# Filter all to 2025-04-01 after visual examination of the data
ffer_full <- ffer_full %>% filter(date <= as.Date('2025-04-01'))
pcepi_full <- pcepi_full %>% filter(date <= as.Date('2025-04-01'))
pot_gdp_full <- pot_gdp_full %>% filter(date <= as.Date('2025-04-01'))
output_gap <- output_gap %>% filter(date <= as.Date('2025-04-01'))
ffer_full$hampel_val <- hampel(ffer_full$value, k = 5)[[1]]
ffer_full %>%
ggplot(aes(x = date)) +
geom_line(aes(y = hampel_val, color = "Hampel")) +
geom_line(aes(y = value, color = "Original")) +
labs(title = "Federal Funds Effective Rate (FFER)",
x = "Date",
y = "Value") +
scale_color_manual(values = c("Hampel" = "blue", "Original" = "red"),
name = "Legend")
pcepi_full$hampel_val <- hampel(pcepi_full$value, k = 5, )[[1]]
pcepi_full %>%
ggplot(aes(x = date)) +
geom_line(aes(y = hampel_val, color = "Hampel")) +
geom_line(aes(y = value, color = "Original")) +
labs(title = "PCEPI",
x = "Date",
y = "Value") +
scale_color_manual(values = c("Hampel" = "blue", "Original" = "red"),
name = "Legend")
gdp_full$hampel_val <- hampel(gdp_full$value, k = 5, )[[1]]
gdp_full %>%
ggplot(aes(x = date)) +
geom_line(aes(y = hampel_val, color = "Hampel")) +
geom_line(aes(y = value, color = "Original")) +
labs(title = "GDP",
x = "Date",
y = "Value") +
scale_color_manual(values = c("Hampel" = "blue", "Original" = "red"),
name = "Legend")
pot_gdp_full$hampel_val <- hampel(pot_gdp_full$value, k = 5, )[[1]]
pot_gdp_full %>%
ggplot(aes(x = date)) +
geom_line(aes(y = hampel_val, color = "Hampel")) +
geom_line(aes(y = value, color = "Original")) +
labs(title = "GDPPOT",
x = "Date",
y = "Value") +
scale_color_manual(values = c("Hampel" = "blue", "Original" = "red"),
name = "Legend")
output_gap$value <- (gdp_full$hampel_val - pot_gdp_full$hampel_val) * 100 / pot_gdp_full$hampel_val
ffer_full <- ffer_full %>% mutate(q = quarter(date))
ffer_full$q_factor <- factor(ffer_full$q, levels = c("1", "2", "3", "4"))
ggplot(ffer_full, aes(x = q_factor, y = value)) +
geom_boxplot(fill = "skyblue", color = "black") +
labs(title = "Distribution of Values by Quarter",
x = "Quarter",
y = "Value") +
theme_minimal()
ffer_full %>% filter(q == 1) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "FFER Q1", x = "Date", y = "Value")
ffer_full %>% filter(q == 2) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "FFER Q2", x = "Date", y = "Value")
ffer_full %>% filter(q == 3) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "FFER Q3", x = "Date", y = "Value")
ffer_full %>% filter(q == 4) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "FFER Q4", x = "Date", y = "Value")
start_year <- 1980
start_quarter <- 1
ffer_ts <- ts(ffer_full$hampel_val, start = c(start_year, start_quarter), frequency=4)
qs(ffer_ts)
pcepi_full <- pcepi_full %>% mutate(q = quarter(date))
pcepi_full$q_factor <- factor(pcepi_full$q, levels = c("1", "2", "3", "4"))
ggplot(pcepi_full, aes(x = q_factor, y = value)) +
geom_boxplot(fill = "skyblue", color = "black") +
labs(title = "Distribution of Values by Quarter",
x = "Quarter",
y = "Value") +
theme_minimal()
pcepi_full %>% filter(q == 1) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "PCEPI Q1", x = "Date", y = "Value")
pcepi_full %>% filter(q == 2) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "PCEPI Q2", x = "Date", y = "Value")
pcepi_full %>% filter(q == 3) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "PCEPI Q3", x = "Date", y = "Value")
pcepi_full %>% filter(q == 4) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "PCEPI Q4", x = "Date", y = "Value")
start_year <- 1980
start_quarter <- 1
pcepi_ts <- ts(pcepi_full$hampel_val, start = c(start_year, start_quarter), frequency=4)
qs(pcepi_ts)
gdp_full <- gdp_full %>% mutate(q = quarter(date))
gdp_full$q_factor <- factor(gdp_full$q, levels = c("1", "2", "3", "4"))
ggplot(gdp_full, aes(x = q_factor, y = value)) +
geom_boxplot(fill = "skyblue", color = "black") +
labs(title = "Distribution of Values by Quarter",
x = "Quarter",
y = "Value") +
theme_minimal()
gdp_full %>% filter(q == 1) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDP Q1", x = "Date", y = "Value")
gdp_full %>% filter(q == 2) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDP Q2", x = "Date", y = "Value")
gdp_full %>% filter(q == 3) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDP Q3", x = "Date", y = "Value")
gdp_full %>% filter(q == 4) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDP Q4", x = "Date", y = "Value")
start_year <- 1980
start_quarter <- 1
gdp_full_ts <- ts(gdp_full$hampel_val, start = c(start_year, start_quarter), frequency=4)
qs(gdp_full_ts)
pot_gdp_full <- pot_gdp_full %>% mutate(q = quarter(date))
pot_gdp_full$q_factor <- factor(pot_gdp_full$q, levels = c("1", "2", "3", "4"))
ggplot(pot_gdp_full, aes(x = q_factor, y = value)) +
geom_boxplot(fill = "skyblue", color = "black") +
labs(title = "Distribution of Values by Quarter",
x = "Quarter",
y = "Value") +
theme_minimal()
pot_gdp_full %>% filter(q == 1) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q1", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 2) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q2", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 3) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q3", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 4) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q4", x = "Date", y = "Value")
start_year <- 1980
start_quarter <- 1
pot_gdp_full_ts <- ts(pot_gdp_full$hampel_val, start = c(start_year, start_quarter), frequency=4)
qs(pot_gdp_full_ts)
pcepi_fit <- seas(pcepi_ts)
pcepi_full$s_adj_val <- final(pcepi_fit)
pot_gdp_fit <- seas(pot_gdp_full_ts)
pot_gdp_full$s_adj_val <- final(pot_gdp_fit)
pot_gdp_full %>%
ggplot(aes(x = date)) +
geom_line(aes(y = s_adj_val, color = "Seasonally Adjusted")) +
geom_line(aes(y = value, color = "Original")) +
labs(title = "GDPPOT",
x = "Date",
y = "Value") +
scale_color_manual(values = c("Seasonally Adjusted" = "blue", "Original" = "red"),
name = "Legend")
pcepi_full %>%
ggplot(aes(x = date)) +
geom_line(aes(y = s_adj_val, color = "Seasonally Adjusted")) +
geom_line(aes(y = value, color = "Original")) +
labs(title = "PCEPI",
x = "Date",
y = "Value") +
scale_color_manual(values = c("Seasonally Adjusted" = "blue", "Original" = "red"),
name = "Legend")
View(ffer_full)
View(pcepi_full)
View(gdp_full)
View(pot_gdp_full)
View(pot_gdp_full)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI, pct_chg_pce, GDPC1_hampel, s_adj_value) %>%
rename(GDPPOT_s_adj = s_adj_value) %>%
mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_value) %>%
rename(GDPPOT_s_adj = s_adj_value) %>%
mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val)
#left_join(pot_gdp_full, by = "date") %>%
#select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_value) %>%
#rename(GDPPOT_s_adj = s_adj_value) %>%
#mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") #%>%
#select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_value) %>%
#rename(GDPPOT_s_adj = s_adj_value) %>%
#mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_value) #%>%
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") #%>%
#select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_value) #%>%
#rename(GDPPOT_s_adj = s_adj_value) %>%
#mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj)
View(infl_data)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_value) %>%
mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj) %>%
mutate(pct_chg_pce_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1))
all(pot_gdp_full$value == pot_gdp_full$hampel_val)
all(pot_gdp_full$value == pot_gdp_full$s_adj_val)
all(infl_data$pct_chg_pce == infl_data$pct_chg_pce_adj)
infl_data <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj) %>%
mutate(pct_chg_pce_s_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1))
all(pot_gdp_full$value == pot_gdp_full$hampel_val)
all(pot_gdp_full$value == pot_gdp_full$s_adj_val)
all(infl_data$pct_chg_pce == infl_data$pct_chg_pce_adj)
all(pot_gdp_full$value == pot_gdp_full$hampel_val)
all(pot_gdp_full$value == pot_gdp_full$s_adj_val)
all(infl_data$pct_chg_pce == infl_data$pct_chg_pce_s_adj)
infl_data_tsbl <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(
output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj,
pct_chg_pce_s_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1)
) %>%
as_tsibble(index = date)
library(tsibble)
infl_data_tsbl <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(
output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj,
pct_chg_pce_s_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1)
) %>%
as_tsibble(index = date)
library(tsibble)
infl_data_tsbl <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(
output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj,
pct_chg_pce_s_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1),
date = yearquarter(date)
) %>%
as_tsibble(index = date)
library(tsibble)
infl_data_tsbl <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(
output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj,
pct_chg_pce_s_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1),
date = yearquarter(date)
) %>%
as_tsibble(index = date)
yearquarter(infl_data_tsbl$date)
library(tsibble)
infl_data_tsbl <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(
output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj,
pct_chg_pce_s_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1),
date = yearquarter(date)
) %>%
as_tsibble(index = date)
View(infl_data_tsbl)
all(pot_gdp_full$value == pot_gdp_full$hampel_val)
all(pot_gdp_full$value == pot_gdp_full$s_adj_val)
all(infl_data$pct_chg_pce == infl_data$pct_chg_pce_s_adj)
View(infl_data)
View(infl_data_tsbl)
View(infl_data)
infl_data_tsbl_train <- infl_data_tsbl %>% filter(date <= yearquarter("2022 Q4"))
infl_data_tsbl_test <- infl_data_tsbl %>% filter(date > yearquarter("2022 Q4"))
View(infl_data_tsbl_test)
taylor_mod <- lm(FEDFUNDS_hampel ~ pct_chg_pce_s_adj + output_gap, data = train)
taylor_mod <- lm(FEDFUNDS_hampel ~ pct_chg_pce_s_adj + output_gap, data = infl_data_tsbl_train)
summary(model)
taylor_mod <- lm(FEDFUNDS_hampel ~ pct_chg_pce_s_adj + output_gap, data = infl_data_tsbl_train)
summary(taylor_mod)
#all(pot_gdp_full$value == pot_gdp_full$hampel_val)
#all(pot_gdp_full$value == pot_gdp_full$s_adj_val)
#all(infl_data$pct_chg_pce == infl_data$pct_chg_pce_s_adj)
library(tsibble)
infl_data_tsbl <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(
output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj,
pct_chg_pce_s_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1),
date = yearquarter(date)
) %>%
as_tsibble(index = date)
infl_data_tsbl_train <- infl_data_tsbl %>% filter(date <= yearquarter("2022 Q4"))
infl_data_tsbl_test <- infl_data_tsbl %>% filter(date > yearquarter("2022 Q4"))
taylor_mod <- lm(FEDFUNDS_hampel ~ pct_chg_pce_s_adj + output_gap, data = infl_data_tsbl_train)
summary(taylor_mod)
library(tseries)
taylor_resid <- resid(taylor_mod)
adf.test(taylor_resid)
library(tsibble)
infl_data_tsbl <- ffer_full %>%
select(date, hampel_val) %>%
rename(FEDFUNDS_hampel = hampel_val) %>%
left_join(pcepi_full, by = "date") %>%
select(date, FEDFUNDS_hampel, s_adj_val, pct_chg_pce) %>%
rename(PCEPI_s_adj = s_adj_val) %>%
left_join(gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, hampel_val) %>%
rename(GDPC1_hampel = hampel_val) %>%
left_join(pot_gdp_full, by = "date") %>%
select(date, FEDFUNDS_hampel, PCEPI_s_adj, pct_chg_pce, GDPC1_hampel, s_adj_val) %>%
rename(GDPPOT_s_adj = s_adj_val) %>%
mutate(
output_gap = 100 * (GDPC1_hampel - GDPPOT_s_adj) / GDPPOT_s_adj,
pct_chg_pce_s_adj = (PCEPI_s_adj / lag(PCEPI_s_adj) - 1),
inflation_gap = pct_chg_pce_s_adj - 0.02,
date = yearquarter(date)
) %>%
as_tsibble(index = date)
infl_data_tsbl_train <- infl_data_tsbl %>% filter(date <= yearquarter("2022 Q4"))
infl_data_tsbl_test <- infl_data_tsbl %>% filter(date > yearquarter("2022 Q4"))
#all(pot_gdp_full$value == pot_gdp_full$hampel_val)
#all(pot_gdp_full$value == pot_gdp_full$s_adj_val)
#all(infl_data$pct_chg_pce == infl_data$pct_chg_pce_s_adj)
taylor_mod <- lm(FEDFUNDS_hampel ~ inflation_gap + output_gap, data = infl_data_tsbl_train)
summary(taylor_mod)
library(tseries)
taylor_resid <- resid(taylor_mod)
adf.test(taylor_resid)
View(pcepi_fit)
View(pcepi_full)
pot_gdp_full <- pot_gdp_full %>% mutate(q = quarter(date))
pot_gdp_full$q_factor <- factor(pot_gdp_full$q, levels = c("1", "2", "3", "4"))
ggplot(pot_gdp_full, aes(x = q_factor, y = value)) +
geom_boxplot(fill = "skyblue", color = "black") +
labs(title = "Distribution of Values by Quarter",
x = "Quarter",
y = "Value") +
theme_minimal()
pot_gdp_full %>% filter(q == 1) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q1", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 2) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q2", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 3) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q3", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 4) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q4", x = "Date", y = "Value")
start_year <- 1980
start_quarter <- 1
pot_gdp_full_ts <- ts(pot_gdp_full$hampel_val, start = c(start_year, start_quarter), frequency=4)
qs(seas(pot_gdp_full_ts))
pot_gdp_full <- pot_gdp_full %>% mutate(q = quarter(date))
pot_gdp_full$q_factor <- factor(pot_gdp_full$q, levels = c("1", "2", "3", "4"))
ggplot(pot_gdp_full, aes(x = q_factor, y = value)) +
geom_boxplot(fill = "skyblue", color = "black") +
labs(title = "Distribution of Values by Quarter",
x = "Quarter",
y = "Value") +
theme_minimal()
pot_gdp_full %>% filter(q == 1) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q1", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 2) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q2", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 3) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q3", x = "Date", y = "Value")
pot_gdp_full %>% filter(q == 4) %>% ggplot(aes(x=date, y=hampel_val)) + geom_line() + labs(title = "GDPPOT Q4", x = "Date", y = "Value")
start_year <- 1980
start_quarter <- 1
pot_gdp_full_ts <- ts(pot_gdp_full$hampel_val, start = c(start_year, start_quarter), frequency=4)
seastests::qs(pot_gdp_full_ts)
View(infl_data_tsbl)
